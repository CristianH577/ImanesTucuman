{"version":3,"file":"static/js/843.889bc1cc.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Payments.js","../node_modules/html-to-image/src/util.ts","../node_modules/html-to-image/src/clone-pseudos.ts","../node_modules/html-to-image/src/mimes.ts","../node_modules/html-to-image/src/dataurl.ts","../node_modules/html-to-image/src/clone-node.ts","../node_modules/html-to-image/src/embed-resources.ts","../node_modules/html-to-image/src/embed-images.ts","../node_modules/html-to-image/src/embed-webfonts.ts","../node_modules/html-to-image/src/index.ts","../node_modules/html-to-image/src/apply-style.ts","views/CartView/ButtonCart.js","../node_modules/@mui/icons-material/esm/Delete.js","views/CartView/List.js","../node_modules/@mui/icons-material/esm/AccountBalance.js","views/CartView/Estimate.js","../node_modules/@mui/icons-material/esm/Send.js","../node_modules/@mui/icons-material/esm/SimCardDownloadOutlined.js","views/CartView.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2m-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m13-6v11c0 1.1-.9 2-2 2H4v-2h17V7z\"\n}), 'Payments');","import type { Options } from './types'\n\nexport function resolveUrl(url: string, baseUrl: string | null): string {\n  // url is absolute already\n  if (url.match(/^[a-z]+:\\/\\//i)) {\n    return url\n  }\n\n  // url is absolute already, without protocol\n  if (url.match(/^\\/\\//)) {\n    return window.location.protocol + url\n  }\n\n  // dataURI, mailto:, tel:, etc.\n  if (url.match(/^[a-z]+:/i)) {\n    return url\n  }\n\n  const doc = document.implementation.createHTMLDocument()\n  const base = doc.createElement('base')\n  const a = doc.createElement('a')\n\n  doc.head.appendChild(base)\n  doc.body.appendChild(a)\n\n  if (baseUrl) {\n    base.href = baseUrl\n  }\n\n  a.href = url\n\n  return a.href\n}\n\nexport const uuid = (() => {\n  // generate uuid for className of pseudo elements.\n  // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n  let counter = 0\n\n  // ref: http://stackoverflow.com/a/6248722/2519373\n  const random = () =>\n    // eslint-disable-next-line no-bitwise\n    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4)\n\n  return () => {\n    counter += 1\n    return `u${random()}${counter}`\n  }\n})()\n\nexport function delay<T>(ms: number) {\n  return (args: T) =>\n    new Promise<T>((resolve) => {\n      setTimeout(() => resolve(args), ms)\n    })\n}\n\nexport function toArray<T>(arrayLike: any): T[] {\n  const arr: T[] = []\n\n  for (let i = 0, l = arrayLike.length; i < l; i++) {\n    arr.push(arrayLike[i])\n  }\n\n  return arr\n}\n\nlet styleProps: string[] | null = null\nexport function getStyleProperties(options: Options = {}): string[] {\n  if (styleProps) {\n    return styleProps\n  }\n\n  if (options.includeStyleProperties) {\n    styleProps = options.includeStyleProperties\n    return styleProps\n  }\n\n  styleProps = toArray(window.getComputedStyle(document.documentElement))\n\n  return styleProps\n}\n\nfunction px(node: HTMLElement, styleProperty: string) {\n  const win = node.ownerDocument.defaultView || window\n  const val = win.getComputedStyle(node).getPropertyValue(styleProperty)\n  return val ? parseFloat(val.replace('px', '')) : 0\n}\n\nfunction getNodeWidth(node: HTMLElement) {\n  const leftBorder = px(node, 'border-left-width')\n  const rightBorder = px(node, 'border-right-width')\n  return node.clientWidth + leftBorder + rightBorder\n}\n\nfunction getNodeHeight(node: HTMLElement) {\n  const topBorder = px(node, 'border-top-width')\n  const bottomBorder = px(node, 'border-bottom-width')\n  return node.clientHeight + topBorder + bottomBorder\n}\n\nexport function getImageSize(targetNode: HTMLElement, options: Options = {}) {\n  const width = options.width || getNodeWidth(targetNode)\n  const height = options.height || getNodeHeight(targetNode)\n\n  return { width, height }\n}\n\nexport function getPixelRatio() {\n  let ratio\n\n  let FINAL_PROCESS\n  try {\n    FINAL_PROCESS = process\n  } catch (e) {\n    // pass\n  }\n\n  const val =\n    FINAL_PROCESS && FINAL_PROCESS.env\n      ? FINAL_PROCESS.env.devicePixelRatio\n      : null\n  if (val) {\n    ratio = parseInt(val, 10)\n    if (Number.isNaN(ratio)) {\n      ratio = 1\n    }\n  }\n  return ratio || window.devicePixelRatio || 1\n}\n\n// @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nconst canvasDimensionLimit = 16384\n\nexport function checkCanvasDimensions(canvas: HTMLCanvasElement) {\n  if (\n    canvas.width > canvasDimensionLimit ||\n    canvas.height > canvasDimensionLimit\n  ) {\n    if (\n      canvas.width > canvasDimensionLimit &&\n      canvas.height > canvasDimensionLimit\n    ) {\n      if (canvas.width > canvas.height) {\n        canvas.height *= canvasDimensionLimit / canvas.width\n        canvas.width = canvasDimensionLimit\n      } else {\n        canvas.width *= canvasDimensionLimit / canvas.height\n        canvas.height = canvasDimensionLimit\n      }\n    } else if (canvas.width > canvasDimensionLimit) {\n      canvas.height *= canvasDimensionLimit / canvas.width\n      canvas.width = canvasDimensionLimit\n    } else {\n      canvas.width *= canvasDimensionLimit / canvas.height\n      canvas.height = canvasDimensionLimit\n    }\n  }\n}\n\nexport function canvasToBlob(\n  canvas: HTMLCanvasElement,\n  options: Options = {},\n): Promise<Blob | null> {\n  if (canvas.toBlob) {\n    return new Promise((resolve) => {\n      canvas.toBlob(\n        resolve,\n        options.type ? options.type : 'image/png',\n        options.quality ? options.quality : 1,\n      )\n    })\n  }\n\n  return new Promise((resolve) => {\n    const binaryString = window.atob(\n      canvas\n        .toDataURL(\n          options.type ? options.type : undefined,\n          options.quality ? options.quality : undefined,\n        )\n        .split(',')[1],\n    )\n    const len = binaryString.length\n    const binaryArray = new Uint8Array(len)\n\n    for (let i = 0; i < len; i += 1) {\n      binaryArray[i] = binaryString.charCodeAt(i)\n    }\n\n    resolve(\n      new Blob([binaryArray], {\n        type: options.type ? options.type : 'image/png',\n      }),\n    )\n  })\n}\n\nexport function createImage(url: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    const img = new Image()\n    img.onload = () => {\n      img.decode().then(() => {\n        requestAnimationFrame(() => resolve(img))\n      })\n    }\n    img.onerror = reject\n    img.crossOrigin = 'anonymous'\n    img.decoding = 'async'\n    img.src = url\n  })\n}\n\nexport async function svgToDataURL(svg: SVGElement): Promise<string> {\n  return Promise.resolve()\n    .then(() => new XMLSerializer().serializeToString(svg))\n    .then(encodeURIComponent)\n    .then((html) => `data:image/svg+xml;charset=utf-8,${html}`)\n}\n\nexport async function nodeToDataURL(\n  node: HTMLElement,\n  width: number,\n  height: number,\n): Promise<string> {\n  const xmlns = 'http://www.w3.org/2000/svg'\n  const svg = document.createElementNS(xmlns, 'svg')\n  const foreignObject = document.createElementNS(xmlns, 'foreignObject')\n\n  svg.setAttribute('width', `${width}`)\n  svg.setAttribute('height', `${height}`)\n  svg.setAttribute('viewBox', `0 0 ${width} ${height}`)\n\n  foreignObject.setAttribute('width', '100%')\n  foreignObject.setAttribute('height', '100%')\n  foreignObject.setAttribute('x', '0')\n  foreignObject.setAttribute('y', '0')\n  foreignObject.setAttribute('externalResourcesRequired', 'true')\n\n  svg.appendChild(foreignObject)\n  foreignObject.appendChild(node)\n  return svgToDataURL(svg)\n}\n\nexport const isInstanceOfElement = <\n  T extends typeof Element | typeof HTMLElement | typeof SVGImageElement,\n>(\n  node: Element | HTMLElement | SVGImageElement,\n  instance: T,\n): node is T['prototype'] => {\n  if (node instanceof instance) return true\n\n  const nodePrototype = Object.getPrototypeOf(node)\n\n  if (nodePrototype === null) return false\n\n  return (\n    nodePrototype.constructor.name === instance.name ||\n    isInstanceOfElement(nodePrototype, instance)\n  )\n}\n","import type { Options } from './types'\nimport { uuid, getStyleProperties } from './util'\n\ntype Pseudo = ':before' | ':after'\n\nfunction formatCSSText(style: CSSStyleDeclaration) {\n  const content = style.getPropertyValue('content')\n  return `${style.cssText} content: '${content.replace(/'|\"/g, '')}';`\n}\n\nfunction formatCSSProperties(style: CSSStyleDeclaration, options: Options) {\n  return getStyleProperties(options)\n    .map((name) => {\n      const value = style.getPropertyValue(name)\n      const priority = style.getPropertyPriority(name)\n\n      return `${name}: ${value}${priority ? ' !important' : ''};`\n    })\n    .join(' ')\n}\n\nfunction getPseudoElementStyle(\n  className: string,\n  pseudo: Pseudo,\n  style: CSSStyleDeclaration,\n  options: Options,\n): Text {\n  const selector = `.${className}:${pseudo}`\n  const cssText = style.cssText\n    ? formatCSSText(style)\n    : formatCSSProperties(style, options)\n\n  return document.createTextNode(`${selector}{${cssText}}`)\n}\n\nfunction clonePseudoElement<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  pseudo: Pseudo,\n  options: Options,\n) {\n  const style = window.getComputedStyle(nativeNode, pseudo)\n  const content = style.getPropertyValue('content')\n  if (content === '' || content === 'none') {\n    return\n  }\n\n  const className = uuid()\n  try {\n    clonedNode.className = `${clonedNode.className} ${className}`\n  } catch (err) {\n    return\n  }\n\n  const styleElement = document.createElement('style')\n  styleElement.appendChild(\n    getPseudoElementStyle(className, pseudo, style, options),\n  )\n  clonedNode.appendChild(styleElement)\n}\n\nexport function clonePseudoElements<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n) {\n  clonePseudoElement(nativeNode, clonedNode, ':before', options)\n  clonePseudoElement(nativeNode, clonedNode, ':after', options)\n}\n","const WOFF = 'application/font-woff'\nconst JPEG = 'image/jpeg'\nconst mimes: { [key: string]: string } = {\n  woff: WOFF,\n  woff2: WOFF,\n  ttf: 'application/font-truetype',\n  eot: 'application/vnd.ms-fontobject',\n  png: 'image/png',\n  jpg: JPEG,\n  jpeg: JPEG,\n  gif: 'image/gif',\n  tiff: 'image/tiff',\n  svg: 'image/svg+xml',\n  webp: 'image/webp',\n}\n\nfunction getExtension(url: string): string {\n  const match = /\\.([^./]*?)$/g.exec(url)\n  return match ? match[1] : ''\n}\n\nexport function getMimeType(url: string): string {\n  const extension = getExtension(url).toLowerCase()\n  return mimes[extension] || ''\n}\n","import { Options } from './types'\n\nfunction getContentFromDataUrl(dataURL: string) {\n  return dataURL.split(/,/)[1]\n}\n\nexport function isDataUrl(url: string) {\n  return url.search(/^(data:)/) !== -1\n}\n\nexport function makeDataUrl(content: string, mimeType: string) {\n  return `data:${mimeType};base64,${content}`\n}\n\nexport async function fetchAsDataURL<T>(\n  url: string,\n  init: RequestInit | undefined,\n  process: (data: { result: string; res: Response }) => T,\n): Promise<T> {\n  const res = await fetch(url, init)\n  if (res.status === 404) {\n    throw new Error(`Resource \"${res.url}\" not found`)\n  }\n  const blob = await res.blob()\n  return new Promise<T>((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onerror = reject\n    reader.onloadend = () => {\n      try {\n        resolve(process({ res, result: reader.result as string }))\n      } catch (error) {\n        reject(error)\n      }\n    }\n\n    reader.readAsDataURL(blob)\n  })\n}\n\nconst cache: { [url: string]: string } = {}\n\nfunction getCacheKey(\n  url: string,\n  contentType: string | undefined,\n  includeQueryParams: boolean | undefined,\n) {\n  let key = url.replace(/\\?.*/, '')\n\n  if (includeQueryParams) {\n    key = url\n  }\n\n  // font resource\n  if (/ttf|otf|eot|woff2?/i.test(key)) {\n    key = key.replace(/.*\\//, '')\n  }\n\n  return contentType ? `[${contentType}]${key}` : key\n}\n\nexport async function resourceToDataURL(\n  resourceUrl: string,\n  contentType: string | undefined,\n  options: Options,\n) {\n  const cacheKey = getCacheKey(\n    resourceUrl,\n    contentType,\n    options.includeQueryParams,\n  )\n\n  if (cache[cacheKey] != null) {\n    return cache[cacheKey]\n  }\n\n  // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n  if (options.cacheBust) {\n    // eslint-disable-next-line no-param-reassign\n    resourceUrl += (/\\?/.test(resourceUrl) ? '&' : '?') + new Date().getTime()\n  }\n\n  let dataURL: string\n  try {\n    const content = await fetchAsDataURL(\n      resourceUrl,\n      options.fetchRequestInit,\n      ({ res, result }) => {\n        if (!contentType) {\n          // eslint-disable-next-line no-param-reassign\n          contentType = res.headers.get('Content-Type') || ''\n        }\n        return getContentFromDataUrl(result)\n      },\n    )\n    dataURL = makeDataUrl(content, contentType!)\n  } catch (error) {\n    dataURL = options.imagePlaceholder || ''\n\n    let msg = `Failed to fetch resource: ${resourceUrl}`\n    if (error) {\n      msg = typeof error === 'string' ? error : error.message\n    }\n\n    if (msg) {\n      console.warn(msg)\n    }\n  }\n\n  cache[cacheKey] = dataURL\n  return dataURL\n}\n","import type { Options } from './types'\nimport { clonePseudoElements } from './clone-pseudos'\nimport {\n  createImage,\n  toArray,\n  isInstanceOfElement,\n  getStyleProperties,\n} from './util'\nimport { getMimeType } from './mimes'\nimport { resourceToDataURL } from './dataurl'\n\nasync function cloneCanvasElement(canvas: HTMLCanvasElement) {\n  const dataURL = canvas.toDataURL()\n  if (dataURL === 'data:,') {\n    return canvas.cloneNode(false) as HTMLCanvasElement\n  }\n  return createImage(dataURL)\n}\n\nasync function cloneVideoElement(video: HTMLVideoElement, options: Options) {\n  if (video.currentSrc) {\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n    canvas.width = video.clientWidth\n    canvas.height = video.clientHeight\n    ctx?.drawImage(video, 0, 0, canvas.width, canvas.height)\n    const dataURL = canvas.toDataURL()\n    return createImage(dataURL)\n  }\n\n  const poster = video.poster\n  const contentType = getMimeType(poster)\n  const dataURL = await resourceToDataURL(poster, contentType, options)\n  return createImage(dataURL)\n}\n\nasync function cloneIFrameElement(iframe: HTMLIFrameElement, options: Options) {\n  try {\n    if (iframe?.contentDocument?.body) {\n      return (await cloneNode(\n        iframe.contentDocument.body,\n        options,\n        true,\n      )) as HTMLBodyElement\n    }\n  } catch {\n    // Failed to clone iframe\n  }\n\n  return iframe.cloneNode(false) as HTMLIFrameElement\n}\n\nasync function cloneSingleNode<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): Promise<HTMLElement> {\n  if (isInstanceOfElement(node, HTMLCanvasElement)) {\n    return cloneCanvasElement(node)\n  }\n\n  if (isInstanceOfElement(node, HTMLVideoElement)) {\n    return cloneVideoElement(node, options)\n  }\n\n  if (isInstanceOfElement(node, HTMLIFrameElement)) {\n    return cloneIFrameElement(node, options)\n  }\n\n  return node.cloneNode(isSVGElement(node)) as T\n}\n\nconst isSlotElement = (node: HTMLElement): node is HTMLSlotElement =>\n  node.tagName != null && node.tagName.toUpperCase() === 'SLOT'\n\nconst isSVGElement = (node: HTMLElement): node is HTMLSlotElement =>\n  node.tagName != null && node.tagName.toUpperCase() === 'SVG'\n\nasync function cloneChildren<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n): Promise<T> {\n  if (isSVGElement(clonedNode)) {\n    return clonedNode\n  }\n\n  let children: T[] = []\n\n  if (isSlotElement(nativeNode) && nativeNode.assignedNodes) {\n    children = toArray<T>(nativeNode.assignedNodes())\n  } else if (\n    isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n    nativeNode.contentDocument?.body\n  ) {\n    children = toArray<T>(nativeNode.contentDocument.body.childNodes)\n  } else {\n    children = toArray<T>((nativeNode.shadowRoot ?? nativeNode).childNodes)\n  }\n\n  if (\n    children.length === 0 ||\n    isInstanceOfElement(nativeNode, HTMLVideoElement)\n  ) {\n    return clonedNode\n  }\n\n  await children.reduce(\n    (deferred, child) =>\n      deferred\n        .then(() => cloneNode(child, options))\n        .then((clonedChild: HTMLElement | null) => {\n          if (clonedChild) {\n            clonedNode.appendChild(clonedChild)\n          }\n        }),\n    Promise.resolve(),\n  )\n\n  return clonedNode\n}\n\nfunction cloneCSSStyle<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n) {\n  const targetStyle = clonedNode.style\n  if (!targetStyle) {\n    return\n  }\n\n  const sourceStyle = window.getComputedStyle(nativeNode)\n  if (sourceStyle.cssText) {\n    targetStyle.cssText = sourceStyle.cssText\n    targetStyle.transformOrigin = sourceStyle.transformOrigin\n  } else {\n    getStyleProperties(options).forEach((name) => {\n      let value = sourceStyle.getPropertyValue(name)\n      if (name === 'font-size' && value.endsWith('px')) {\n        const reducedFont =\n          Math.floor(parseFloat(value.substring(0, value.length - 2))) - 0.1\n        value = `${reducedFont}px`\n      }\n\n      if (\n        isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n        name === 'display' &&\n        value === 'inline'\n      ) {\n        value = 'block'\n      }\n\n      if (name === 'd' && clonedNode.getAttribute('d')) {\n        value = `path(${clonedNode.getAttribute('d')})`\n      }\n\n      targetStyle.setProperty(\n        name,\n        value,\n        sourceStyle.getPropertyPriority(name),\n      )\n    })\n  }\n}\n\nfunction cloneInputValue<T extends HTMLElement>(nativeNode: T, clonedNode: T) {\n  if (isInstanceOfElement(nativeNode, HTMLTextAreaElement)) {\n    clonedNode.innerHTML = nativeNode.value\n  }\n\n  if (isInstanceOfElement(nativeNode, HTMLInputElement)) {\n    clonedNode.setAttribute('value', nativeNode.value)\n  }\n}\n\nfunction cloneSelectValue<T extends HTMLElement>(nativeNode: T, clonedNode: T) {\n  if (isInstanceOfElement(nativeNode, HTMLSelectElement)) {\n    const clonedSelect = clonedNode as any as HTMLSelectElement\n    const selectedOption = Array.from(clonedSelect.children).find(\n      (child) => nativeNode.value === child.getAttribute('value'),\n    )\n\n    if (selectedOption) {\n      selectedOption.setAttribute('selected', '')\n    }\n  }\n}\n\nfunction decorate<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n): T {\n  if (isInstanceOfElement(clonedNode, Element)) {\n    cloneCSSStyle(nativeNode, clonedNode, options)\n    clonePseudoElements(nativeNode, clonedNode, options)\n    cloneInputValue(nativeNode, clonedNode)\n    cloneSelectValue(nativeNode, clonedNode)\n  }\n\n  return clonedNode\n}\n\nasync function ensureSVGSymbols<T extends HTMLElement>(\n  clone: T,\n  options: Options,\n) {\n  const uses = clone.querySelectorAll ? clone.querySelectorAll('use') : []\n  if (uses.length === 0) {\n    return clone\n  }\n\n  const processedDefs: { [key: string]: HTMLElement } = {}\n  for (let i = 0; i < uses.length; i++) {\n    const use = uses[i]\n    const id = use.getAttribute('xlink:href')\n    if (id) {\n      const exist = clone.querySelector(id)\n      const definition = document.querySelector(id) as HTMLElement\n      if (!exist && definition && !processedDefs[id]) {\n        // eslint-disable-next-line no-await-in-loop\n        processedDefs[id] = (await cloneNode(definition, options, true))!\n      }\n    }\n  }\n\n  const nodes = Object.values(processedDefs)\n  if (nodes.length) {\n    const ns = 'http://www.w3.org/1999/xhtml'\n    const svg = document.createElementNS(ns, 'svg')\n    svg.setAttribute('xmlns', ns)\n    svg.style.position = 'absolute'\n    svg.style.width = '0'\n    svg.style.height = '0'\n    svg.style.overflow = 'hidden'\n    svg.style.display = 'none'\n\n    const defs = document.createElementNS(ns, 'defs')\n    svg.appendChild(defs)\n\n    for (let i = 0; i < nodes.length; i++) {\n      defs.appendChild(nodes[i])\n    }\n\n    clone.appendChild(svg)\n  }\n\n  return clone\n}\n\nexport async function cloneNode<T extends HTMLElement>(\n  node: T,\n  options: Options,\n  isRoot?: boolean,\n): Promise<T | null> {\n  if (!isRoot && options.filter && !options.filter(node)) {\n    return null\n  }\n\n  return Promise.resolve(node)\n    .then((clonedNode) => cloneSingleNode(clonedNode, options) as Promise<T>)\n    .then((clonedNode) => cloneChildren(node, clonedNode, options))\n    .then((clonedNode) => decorate(node, clonedNode, options))\n    .then((clonedNode) => ensureSVGSymbols(clonedNode, options))\n}\n","import { Options } from './types'\nimport { resolveUrl } from './util'\nimport { getMimeType } from './mimes'\nimport { isDataUrl, makeDataUrl, resourceToDataURL } from './dataurl'\n\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g\n\nfunction toRegex(url: string): RegExp {\n  // eslint-disable-next-line no-useless-escape\n  const escaped = url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1')\n  return new RegExp(`(url\\\\(['\"]?)(${escaped})(['\"]?\\\\))`, 'g')\n}\n\nexport function parseURLs(cssText: string): string[] {\n  const urls: string[] = []\n\n  cssText.replace(URL_REGEX, (raw, quotation, url) => {\n    urls.push(url)\n    return raw\n  })\n\n  return urls.filter((url) => !isDataUrl(url))\n}\n\nexport async function embed(\n  cssText: string,\n  resourceURL: string,\n  baseURL: string | null,\n  options: Options,\n  getContentFromUrl?: (url: string) => Promise<string>,\n): Promise<string> {\n  try {\n    const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL\n    const contentType = getMimeType(resourceURL)\n    let dataURL: string\n    if (getContentFromUrl) {\n      const content = await getContentFromUrl(resolvedURL)\n      dataURL = makeDataUrl(content, contentType)\n    } else {\n      dataURL = await resourceToDataURL(resolvedURL, contentType, options)\n    }\n    return cssText.replace(toRegex(resourceURL), `$1${dataURL}$3`)\n  } catch (error) {\n    // pass\n  }\n  return cssText\n}\n\nfunction filterPreferredFontFormat(\n  str: string,\n  { preferredFontFormat }: Options,\n): string {\n  return !preferredFontFormat\n    ? str\n    : str.replace(FONT_SRC_REGEX, (match: string) => {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || []\n          if (!format) {\n            return ''\n          }\n\n          if (format === preferredFontFormat) {\n            return `src: ${src};`\n          }\n        }\n      })\n}\n\nexport function shouldEmbed(url: string): boolean {\n  return url.search(URL_REGEX) !== -1\n}\n\nexport async function embedResources(\n  cssText: string,\n  baseUrl: string | null,\n  options: Options,\n): Promise<string> {\n  if (!shouldEmbed(cssText)) {\n    return cssText\n  }\n\n  const filteredCSSText = filterPreferredFontFormat(cssText, options)\n  const urls = parseURLs(filteredCSSText)\n  return urls.reduce(\n    (deferred, url) =>\n      deferred.then((css) => embed(css, url, baseUrl, options)),\n    Promise.resolve(filteredCSSText),\n  )\n}\n","import { Options } from './types'\nimport { embedResources } from './embed-resources'\nimport { toArray, isInstanceOfElement } from './util'\nimport { isDataUrl, resourceToDataURL } from './dataurl'\nimport { getMimeType } from './mimes'\n\nasync function embedProp(\n  propName: string,\n  node: HTMLElement,\n  options: Options,\n) {\n  const propValue = node.style?.getPropertyValue(propName)\n  if (propValue) {\n    const cssString = await embedResources(propValue, null, options)\n    node.style.setProperty(\n      propName,\n      cssString,\n      node.style.getPropertyPriority(propName),\n    )\n    return true\n  }\n  return false\n}\n\nasync function embedBackground<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  ;(await embedProp('background', clonedNode, options)) ||\n    (await embedProp('background-image', clonedNode, options))\n  ;(await embedProp('mask', clonedNode, options)) ||\n    (await embedProp('-webkit-mask', clonedNode, options)) ||\n    (await embedProp('mask-image', clonedNode, options)) ||\n    (await embedProp('-webkit-mask-image', clonedNode, options))\n}\n\nasync function embedImageNode<T extends HTMLElement | SVGImageElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const isImageElement = isInstanceOfElement(clonedNode, HTMLImageElement)\n\n  if (\n    !(isImageElement && !isDataUrl(clonedNode.src)) &&\n    !(\n      isInstanceOfElement(clonedNode, SVGImageElement) &&\n      !isDataUrl(clonedNode.href.baseVal)\n    )\n  ) {\n    return\n  }\n\n  const url = isImageElement ? clonedNode.src : clonedNode.href.baseVal\n\n  const dataURL = await resourceToDataURL(url, getMimeType(url), options)\n  await new Promise((resolve, reject) => {\n    clonedNode.onload = resolve\n    clonedNode.onerror = options.onImageErrorHandler\n      ? (...attributes) => {\n          try {\n            resolve(options.onImageErrorHandler!(...attributes))\n          } catch (error) {\n            reject(error)\n          }\n        }\n      : reject\n\n    const image = clonedNode as HTMLImageElement\n    if (image.decode) {\n      image.decode = resolve as any\n    }\n\n    if (image.loading === 'lazy') {\n      image.loading = 'eager'\n    }\n\n    if (isImageElement) {\n      clonedNode.srcset = ''\n      clonedNode.src = dataURL\n    } else {\n      clonedNode.href.baseVal = dataURL\n    }\n  })\n}\n\nasync function embedChildren<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const children = toArray<HTMLElement>(clonedNode.childNodes)\n  const deferreds = children.map((child) => embedImages(child, options))\n  await Promise.all(deferreds).then(() => clonedNode)\n}\n\nexport async function embedImages<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  if (isInstanceOfElement(clonedNode, Element)) {\n    await embedBackground(clonedNode, options)\n    await embedImageNode(clonedNode, options)\n    await embedChildren(clonedNode, options)\n  }\n}\n","import type { Options } from './types'\nimport { toArray } from './util'\nimport { fetchAsDataURL } from './dataurl'\nimport { shouldEmbed, embedResources } from './embed-resources'\n\ninterface Metadata {\n  url: string\n  cssText: string\n}\n\nconst cssFetchCache: { [href: string]: Metadata } = {}\n\nasync function fetchCSS(url: string) {\n  let cache = cssFetchCache[url]\n  if (cache != null) {\n    return cache\n  }\n\n  const res = await fetch(url)\n  const cssText = await res.text()\n  cache = { url, cssText }\n\n  cssFetchCache[url] = cache\n\n  return cache\n}\n\nasync function embedFonts(data: Metadata, options: Options): Promise<string> {\n  let cssText = data.cssText\n  const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g\n  const fontLocs = cssText.match(/url\\([^)]+\\)/g) || []\n  const loadFonts = fontLocs.map(async (loc: string) => {\n    let url = loc.replace(regexUrl, '$1')\n    if (!url.startsWith('https://')) {\n      url = new URL(url, data.url).href\n    }\n\n    return fetchAsDataURL<[string, string]>(\n      url,\n      options.fetchRequestInit,\n      ({ result }) => {\n        cssText = cssText.replace(loc, `url(${result})`)\n        return [loc, result]\n      },\n    )\n  })\n\n  return Promise.all(loadFonts).then(() => cssText)\n}\n\nfunction parseCSS(source: string) {\n  if (source == null) {\n    return []\n  }\n\n  const result: string[] = []\n  const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi\n  // strip out comments\n  let cssText = source.replace(commentsRegex, '')\n\n  // eslint-disable-next-line prefer-regex-literals\n  const keyframesRegex = new RegExp(\n    '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})',\n    'gi',\n  )\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const matches = keyframesRegex.exec(cssText)\n    if (matches === null) {\n      break\n    }\n    result.push(matches[0])\n  }\n  cssText = cssText.replace(keyframesRegex, '')\n\n  const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi\n  // to match css & media queries together\n  const combinedCSSRegex =\n    '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n    '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'\n  // unified regex\n  const unifiedRegex = new RegExp(combinedCSSRegex, 'gi')\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    let matches = importRegex.exec(cssText)\n    if (matches === null) {\n      matches = unifiedRegex.exec(cssText)\n      if (matches === null) {\n        break\n      } else {\n        importRegex.lastIndex = unifiedRegex.lastIndex\n      }\n    } else {\n      unifiedRegex.lastIndex = importRegex.lastIndex\n    }\n    result.push(matches[0])\n  }\n\n  return result\n}\n\nasync function getCSSRules(\n  styleSheets: CSSStyleSheet[],\n  options: Options,\n): Promise<CSSStyleRule[]> {\n  const ret: CSSStyleRule[] = []\n  const deferreds: Promise<number | void>[] = []\n\n  // First loop inlines imports\n  styleSheets.forEach((sheet) => {\n    if ('cssRules' in sheet) {\n      try {\n        toArray<CSSRule>(sheet.cssRules || []).forEach((item, index) => {\n          if (item.type === CSSRule.IMPORT_RULE) {\n            let importIndex = index + 1\n            const url = (item as CSSImportRule).href\n            const deferred = fetchCSS(url)\n              .then((metadata) => embedFonts(metadata, options))\n              .then((cssText) =>\n                parseCSS(cssText).forEach((rule) => {\n                  try {\n                    sheet.insertRule(\n                      rule,\n                      rule.startsWith('@import')\n                        ? (importIndex += 1)\n                        : sheet.cssRules.length,\n                    )\n                  } catch (error) {\n                    console.error('Error inserting rule from remote css', {\n                      rule,\n                      error,\n                    })\n                  }\n                }),\n              )\n              .catch((e) => {\n                console.error('Error loading remote css', e.toString())\n              })\n\n            deferreds.push(deferred)\n          }\n        })\n      } catch (e) {\n        const inline =\n          styleSheets.find((a) => a.href == null) || document.styleSheets[0]\n        if (sheet.href != null) {\n          deferreds.push(\n            fetchCSS(sheet.href)\n              .then((metadata) => embedFonts(metadata, options))\n              .then((cssText) =>\n                parseCSS(cssText).forEach((rule) => {\n                  inline.insertRule(rule, inline.cssRules.length)\n                }),\n              )\n              .catch((err: unknown) => {\n                console.error('Error loading remote stylesheet', err)\n              }),\n          )\n        }\n        console.error('Error inlining remote css file', e)\n      }\n    }\n  })\n\n  return Promise.all(deferreds).then(() => {\n    // Second loop parses rules\n    styleSheets.forEach((sheet) => {\n      if ('cssRules' in sheet) {\n        try {\n          toArray<CSSStyleRule>(sheet.cssRules || []).forEach((item) => {\n            ret.push(item)\n          })\n        } catch (e) {\n          console.error(`Error while reading CSS rules from ${sheet.href}`, e)\n        }\n      }\n    })\n\n    return ret\n  })\n}\n\nfunction getWebFontRules(cssRules: CSSStyleRule[]): CSSStyleRule[] {\n  return cssRules\n    .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n    .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')))\n}\n\nasync function parseWebFontRules<T extends HTMLElement>(\n  node: T,\n  options: Options,\n) {\n  if (node.ownerDocument == null) {\n    throw new Error('Provided element is not within a Document')\n  }\n\n  const styleSheets = toArray<CSSStyleSheet>(node.ownerDocument.styleSheets)\n  const cssRules = await getCSSRules(styleSheets, options)\n\n  return getWebFontRules(cssRules)\n}\n\nfunction normalizeFontFamily(font: string) {\n  return font.trim().replace(/[\"']/g, '')\n}\n\nfunction getUsedFonts(node: HTMLElement) {\n  const fonts = new Set<string>()\n  function traverse(node: HTMLElement) {\n    const fontFamily =\n      node.style.fontFamily || getComputedStyle(node).fontFamily\n    fontFamily.split(',').forEach((font) => {\n      fonts.add(normalizeFontFamily(font))\n    })\n\n    Array.from(node.children).forEach((child) => {\n      if (child instanceof HTMLElement) {\n        traverse(child)\n      }\n    })\n  }\n  traverse(node)\n  return fonts\n}\n\nexport async function getWebFontCSS<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): Promise<string> {\n  const rules = await parseWebFontRules(node, options)\n  const usedFonts = getUsedFonts(node)\n  const cssTexts = await Promise.all(\n    rules\n      .filter((rule) =>\n        usedFonts.has(normalizeFontFamily(rule.style.fontFamily)),\n      )\n      .map((rule) => {\n        const baseUrl = rule.parentStyleSheet\n          ? rule.parentStyleSheet.href\n          : null\n        return embedResources(rule.cssText, baseUrl, options)\n      }),\n  )\n\n  return cssTexts.join('\\n')\n}\n\nexport async function embedWebFonts<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const cssText =\n    options.fontEmbedCSS != null\n      ? options.fontEmbedCSS\n      : options.skipFonts\n      ? null\n      : await getWebFontCSS(clonedNode, options)\n\n  if (cssText) {\n    const styleNode = document.createElement('style')\n    const sytleContent = document.createTextNode(cssText)\n\n    styleNode.appendChild(sytleContent)\n\n    if (clonedNode.firstChild) {\n      clonedNode.insertBefore(styleNode, clonedNode.firstChild)\n    } else {\n      clonedNode.appendChild(styleNode)\n    }\n  }\n}\n","import { Options } from './types'\nimport { cloneNode } from './clone-node'\nimport { embedImages } from './embed-images'\nimport { applyStyle } from './apply-style'\nimport { embedWebFonts, getWebFontCSS } from './embed-webfonts'\nimport {\n  getImageSize,\n  getPixelRatio,\n  createImage,\n  canvasToBlob,\n  nodeToDataURL,\n  checkCanvasDimensions,\n} from './util'\n\nexport async function toSvg<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const { width, height } = getImageSize(node, options)\n  const clonedNode = (await cloneNode(node, options, true)) as HTMLElement\n  await embedWebFonts(clonedNode, options)\n  await embedImages(clonedNode, options)\n  applyStyle(clonedNode, options)\n  const datauri = await nodeToDataURL(clonedNode, width, height)\n  return datauri\n}\n\nexport async function toCanvas<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<HTMLCanvasElement> {\n  const { width, height } = getImageSize(node, options)\n  const svg = await toSvg(node, options)\n  const img = await createImage(svg)\n\n  const canvas = document.createElement('canvas')\n  const context = canvas.getContext('2d')!\n  const ratio = options.pixelRatio || getPixelRatio()\n  const canvasWidth = options.canvasWidth || width\n  const canvasHeight = options.canvasHeight || height\n\n  canvas.width = canvasWidth * ratio\n  canvas.height = canvasHeight * ratio\n\n  if (!options.skipAutoScale) {\n    checkCanvasDimensions(canvas)\n  }\n  canvas.style.width = `${canvasWidth}`\n  canvas.style.height = `${canvasHeight}`\n\n  if (options.backgroundColor) {\n    context.fillStyle = options.backgroundColor\n    context.fillRect(0, 0, canvas.width, canvas.height)\n  }\n\n  context.drawImage(img, 0, 0, canvas.width, canvas.height)\n\n  return canvas\n}\n\nexport async function toPixelData<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<Uint8ClampedArray> {\n  const { width, height } = getImageSize(node, options)\n  const canvas = await toCanvas(node, options)\n  const ctx = canvas.getContext('2d')!\n  return ctx.getImageData(0, 0, width, height).data\n}\n\nexport async function toPng<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const canvas = await toCanvas(node, options)\n  return canvas.toDataURL()\n}\n\nexport async function toJpeg<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const canvas = await toCanvas(node, options)\n  return canvas.toDataURL('image/jpeg', options.quality || 1)\n}\n\nexport async function toBlob<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<Blob | null> {\n  const canvas = await toCanvas(node, options)\n  const blob = await canvasToBlob(canvas)\n  return blob\n}\n\nexport async function getFontEmbedCSS<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  return getWebFontCSS(node, options)\n}\n","import type { Options } from './types'\n\nexport function applyStyle<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): T {\n  const { style } = node\n\n  if (options.backgroundColor) {\n    style.backgroundColor = options.backgroundColor\n  }\n\n  if (options.width) {\n    style.width = `${options.width}px`\n  }\n\n  if (options.height) {\n    style.height = `${options.height}px`\n  }\n\n  const manual = options.style\n  if (manual != null) {\n    Object.keys(manual).forEach((key: any) => {\n      style[key] = manual[key] as string\n    })\n  }\n\n  return node\n}\n","import { Button, Tooltip } from \"@nextui-org/react\";\r\n\r\nfunction ButtonCart(props) {\r\n  return (\r\n    <Tooltip\r\n      content={props?.label}\r\n      className=\"border-2 border-custom1-2 text-foreground\"\r\n      classNames={{\r\n        content: \"text-center font-semibold\",\r\n      }}\r\n      hidden={!props?.label}\r\n    >\r\n      <Button\r\n        color={props?.color}\r\n        isIconOnly\r\n        className=\"p-2 max-xs:w-full\"\r\n        isDisabled={props?.isDisabled}\r\n        onPress={props?.onPress || null}\r\n        title={props?.label || null}\r\n      >\r\n        {props?.icon ? <props.icon className=\"h-full w-fit\" /> : null}\r\n      </Button>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nexport default ButtonCart;\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');","import { useEffect, useState } from \"react\";\r\nimport { useOutletContext } from \"react-router\";\r\n\r\nimport { scrollStyle } from \"../../libs/tvs\";\r\nimport {\r\n  cartItemsComparator,\r\n  handlePriceData,\r\n  toPercentageFormat,\r\n  toPriceFormat,\r\n} from \"../../libs/functions\";\r\n\r\nimport { Button, Input, Spinner } from \"@nextui-org/react\";\r\n\r\nimport ImageCustom from \"../../components/ImageCustom\";\r\nimport PriceLabel from \"../../components/PriceLabel\";\r\n\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport {\r\n  SVGArrastre,\r\n  SVGCuadrado,\r\n  SVGCuadradoFresado,\r\n  SVGRedondo,\r\n  SVGRedondoFresado,\r\n} from \"../../assets/imanes/svgs\";\r\n\r\nconst contextImg = require.context(\"../../assets/items\");\r\n\r\nconst SVG_FORMA = {\r\n  redondo: SVGRedondo,\r\n  cuadrado: SVGCuadrado,\r\n  \"redondo fresado\": SVGRedondoFresado,\r\n  \"cuadrado fresado\": SVGCuadradoFresado,\r\n  arrastre: SVGArrastre,\r\n};\r\n\r\nconst cols = [\r\n  {\r\n    id: \"img\",\r\n    label: \"\",\r\n    disabledSort: true,\r\n  },\r\n  {\r\n    id: \"categorie\",\r\n    label: \"Categoria\",\r\n  },\r\n  {\r\n    id: \"label\",\r\n    label: \"Nombre\",\r\n  },\r\n  {\r\n    id: \"qtt\",\r\n    label: \"Cantidad\",\r\n    isNumeric: true,\r\n  },\r\n  {\r\n    id: \"price\",\r\n    label: \"Precio\",\r\n    isNumeric: true,\r\n  },\r\n  {\r\n    id: \"subtotal\",\r\n    label: \"Subtotal\",\r\n    isNumeric: true,\r\n    disabledSort: true,\r\n  },\r\n];\r\n\r\nconst totalDefault = {\r\n  total: 0,\r\n  base: 0,\r\n  percentage: 0,\r\n};\r\n\r\nconst itemsPerView = 10;\r\n\r\nexport default function List({ downloading = false }) {\r\n  const context = useOutletContext();\r\n  const cart = context.cart.value;\r\n\r\n  const [orderBy, setOrderBy] = useState(\"\");\r\n  const [items, setItems] = useState(Object.values(cart));\r\n  const [totalVisibleItems, setTotalVisibleItems] = useState(itemsPerView);\r\n  const visibleItems = items.slice(0, totalVisibleItems);\r\n  const [loading, setLoading] = useState(false);\r\n  const [total, setTotal] = useState({ ...totalDefault });\r\n\r\n  const makeCell = (col, row) => {\r\n    const val = row?.[col] || \"-\";\r\n\r\n    switch (col) {\r\n      case \"img\":\r\n        const SvgForma =\r\n          row.imgs_data.preview.type === \"svg\" && row.imgs_data.preview.src\r\n            ? SVG_FORMA?.[row.imgs_data.preview.src]\r\n            : false;\r\n        return SvgForma ? (\r\n          <SvgForma className=\"w-[50px] h-fit self-center\" />\r\n        ) : (\r\n          <ImageCustom\r\n            alt={`Imagen de ${row.label}`}\r\n            className=\"object-contain w-[50px] min-w-[50px]\"\r\n            radius=\"none\"\r\n            src={contextImg(\"./\" + row.imgs_data.preview.thumbnails)}\r\n          />\r\n        );\r\n      case \"categorie\":\r\n        return (\r\n          <span className=\"capitalize\">\r\n            {val} {row?.subcategorie}\r\n          </span>\r\n        );\r\n      case \"qtt\":\r\n        return (\r\n          <div className=\"flex justify-end gap-2\">\r\n            <Input\r\n              name={row.id}\r\n              aria-label=\"Cantidad\"\r\n              type=\"number\"\r\n              size=\"sm\"\r\n              className=\"min-w-24 max-w-32\"\r\n              classNames={{\r\n                inputWrapper:\r\n                  \"border-b-2 border-custom1 bg-transparent rounded-none\",\r\n                input: \"text-prima\",\r\n              }}\r\n              startContent=\"x\"\r\n              endContent={row?.price_measure || \"u\"}\r\n              min={0}\r\n              value={row?.qtt || \"\"}\r\n              data-id={row.id}\r\n              onChange={handleQtt}\r\n              onBlur={handleQttBlur}\r\n            />\r\n\r\n            <Button\r\n              isIconOnly\r\n              size=\"sm\"\r\n              color=\"\"\r\n              variant=\"\"\r\n              className={`hover:scale-110${downloading ? \" hidden\" : \"\"}`}\r\n              title=\"Quitar del carrito\"\r\n              data-id={row.id}\r\n              onPress={handleDelete}\r\n            >\r\n              <DeleteIcon className=\"text-danger text-2xl\" />\r\n            </Button>\r\n          </div>\r\n        );\r\n\r\n      case \"price\":\r\n        return <PriceLabel itemData={row} />;\r\n      case \"subtotal\":\r\n        const use = row.price_data.usePrice;\r\n        const price = row.price_data.prices[use];\r\n        return toPriceFormat(price * row.qtt);\r\n\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  const handleQtt = (e) => {\r\n    const value = e.target.value;\r\n    const id = e.target.dataset.id;\r\n    const cart_ = { ...cart };\r\n    cart_[id].qtt = Number(value);\r\n    context.cart.set(cart_);\r\n  };\r\n  const handleQttBlur = (e) => {\r\n    const id = e.target.dataset.id;\r\n    const qtt = Number(e.target?.value);\r\n    const cart_ = { ...cart };\r\n    const itemData = cart_[id];\r\n    itemData.qtt = qtt;\r\n\r\n    itemData.price_data = handlePriceData(itemData);\r\n\r\n    cart_[id] = itemData;\r\n\r\n    context.cart.set(cart_);\r\n  };\r\n\r\n  const handleDelete = (e) => {\r\n    const id = e.target.dataset.id;\r\n    const cart_ = { ...cart };\r\n    const itemData = cart_[id];\r\n    itemData.qtt = 0;\r\n    context.cart.add(itemData);\r\n  };\r\n  const getTotal = () => {\r\n    if (cart && Object.values(cart).length > 0) {\r\n      let total_ = structuredClone(totalDefault);\r\n\r\n      Object.values(cart).forEach((item) => {\r\n        const use = item.price_data.usePrice;\r\n        const price = item.price_data.prices[use];\r\n        const base = item.price_data.prices.base;\r\n\r\n        total_.total += price * item?.qtt;\r\n        total_.base += base * item?.qtt;\r\n      });\r\n\r\n      total_.percentage = (total_.base - total_.total) / total_.base;\r\n\r\n      setTotal(total_);\r\n    }\r\n  };\r\n\r\n  const showMore = () => {\r\n    const total_ = totalVisibleItems + itemsPerView;\r\n    setTotalVisibleItems(total_);\r\n  };\r\n\r\n  const handleSortCol = (e) => {\r\n    const col = e.target.dataset.column;\r\n    let order_ = \"desc\";\r\n    if (orderBy.includes(col) && orderBy.includes(\"desc\")) order_ = \"asc\";\r\n\r\n    const orderBy_ = col + \"-\" + order_;\r\n\r\n    setOrderBy(orderBy_);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    const items_ = items.map((item) => {\r\n      item.price_data = handlePriceData(item);\r\n      return item;\r\n    });\r\n\r\n    setItems(items_);\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getTotal();\r\n    setItems(Object.values(cart));\r\n  }, [cart]);\r\n\r\n  useEffect(() => {\r\n    if (downloading) setTotalVisibleItems(items.length);\r\n  }, [downloading]);\r\n\r\n  useEffect(() => {\r\n    const sortItems = async () => {\r\n      setLoading(true);\r\n      if (orderBy) {\r\n        const [col, order] = orderBy.split(\"-\");\r\n        const items_ = items.sort(cartItemsComparator(col, order));\r\n\r\n        setItems(items_);\r\n      }\r\n      setTimeout(() => {\r\n        setLoading(false);\r\n      }, 200);\r\n    };\r\n\r\n    sortItems();\r\n  }, [orderBy]);\r\n\r\n  if (cart && Object.keys(cart).length < 1) {\r\n    return (\r\n      <b className=\"text-center text-xl p-4\">Sin artículos para mostrar.</b>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return <Spinner color=\"secondary\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span className=\"text-neutral-400 self-center\">\r\n        Total: {items.length}\r\n      </span>\r\n\r\n      <section\r\n        className={`w-full px-4 ${scrollStyle}`}\r\n        style={{\r\n          overflowX: downloading ? \"visible\" : \"auto\",\r\n          maxWidth: downloading ? \"none\" : \"90vw\",\r\n          paddingBottom: downloading ? \"0\" : \"0.5rem\",\r\n        }}\r\n      >\r\n        <table className=\"w-full sm:min-w-[750px]\">\r\n          <thead className=\"border-b-3\">\r\n            <tr>\r\n              {cols.map((col) => (\r\n                <th\r\n                  key={col.id}\r\n                  className={`p-2 whitespace-nowrap${\r\n                    col?.disabledSort ? \"\" : \" cursor-pointer hover:opacity-80\"\r\n                  }`}\r\n                  style={{ textAlign: col?.isNumeric ? \"end\" : \"start\" }}\r\n                  data-column={col.id}\r\n                  onClick={col?.disabledSort ? null : handleSortCol}\r\n                >\r\n                  {col.label}\r\n                  {!col?.disabledSort && orderBy.includes(col.id)\r\n                    ? orderBy.includes(\"desc\")\r\n                      ? \" 🡡\"\r\n                      : \" 🡣\"\r\n                    : null}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {visibleItems.map((row) => (\r\n              <tr\r\n                key={row.id}\r\n                className=\"even:text-custom2-10 dark:even:text-custom1 group hover:bg-secondary/30\"\r\n              >\r\n                {cols.map((col) => (\r\n                  <td\r\n                    key={col.id + \"-\" + row.id}\r\n                    className=\"p-2 group-hover:font-semibold\"\r\n                    style={{ textAlign: col?.isNumeric ? \"end\" : \"start\" }}\r\n                  >\r\n                    {makeCell(col.id, row)}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n\r\n            <tr>\r\n              <td>\r\n                {totalVisibleItems < items.length && (\r\n                  <Button\r\n                    className=\"bg-custom1-2 text-custom2 font-bold hover:scale-105\"\r\n                    title=\"Mostrar mas\"\r\n                    onPress={() => showMore()}\r\n                  >\r\n                    Siguientes\r\n                  </Button>\r\n                )}\r\n              </td>\r\n              <td colSpan={4}></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n\r\n      {Object.keys(cart).length > 0 && (\r\n        <section className=\"self-end font-semibold px-4 text-end\">\r\n          {total?.percentage > 0 && (\r\n            <div>\r\n              <b className=\"text-danger\">\r\n                -{toPercentageFormat(total?.percentage)}\r\n              </b>{\" \"}\r\n              <span className=\"text-neutral-400 line-through\">\r\n                {toPriceFormat(total?.base)}\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          <span className=\"text-custom1\">\r\n            Total {toPriceFormat(total?.total)}\r\n          </span>\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z\"\n}), 'AccountBalance');","import { Select, SelectItem, Divider } from \"@nextui-org/react\";\r\n\r\nimport Logo from \"../../components/Logo\";\r\nimport List from \"./List\";\r\n\r\nimport AccountBalanceIcon from \"@mui/icons-material/AccountBalance\";\r\nimport PaymentsIcon from \"@mui/icons-material/Payments\";\r\n\r\nimport {\r\n  SVGLogoGalicia,\r\n  SVGLogoPaypal,\r\n  SVGMercadoLibre,\r\n} from \"../../assets/layout/svgs\";\r\n\r\nconst entrega_items = {\r\n  retiro: {\r\n    label: \"Voy a retirar\",\r\n    description_item: \"Quiero pasar a retirar\",\r\n    description_select: \"Debe coordinar cuando quiera pasar.\",\r\n  },\r\n  coordinar: {\r\n    label: \"Quiero coordinar\",\r\n    description_item: \"Quiero saber cuando se hagan entregas en el centro\",\r\n  },\r\n  cadete: {\r\n    label: \"Mando a buscarlo\",\r\n    description_item: \"Quiero enviar a que lo busquen\",\r\n    description_select:\r\n      \"Si es un Uber, se transfiere el pago antes de entregar.\",\r\n  },\r\n  envio: {\r\n    label: \"Envío\",\r\n    description_item: \"Quiero que me lo envíen\",\r\n    description_select: \"Se transfiere el envío antes y se paga en la entrega.\",\r\n  },\r\n  envio_uber: {\r\n    label: \"Envío: Uber\",\r\n    description_item: \"Quiero que me lo envíen por Uber\",\r\n    description_select: \"Se transfiere el pago + envío antes.\",\r\n  },\r\n  envio_online: {\r\n    label: \"Envío: Tienda Online\",\r\n    description_item: \"Quiero intermediar con Mercado Libre\",\r\n    description_select:\r\n      \"Puede comprar y arreglar por medio de ML(se pagan comisiones).\",\r\n  },\r\n  envio_encomienda: {\r\n    label: \"Envío: Encomienda\",\r\n    description_item: \"Quiero arreglar un envío por correo\",\r\n  },\r\n};\r\n\r\nfunction Estimate({\r\n  downloading = false,\r\n  conditions = {},\r\n  setConditions = () => {},\r\n}) {\r\n  return (\r\n    <div\r\n      id=\"presupuesto\"\r\n      className={`flex flex-col gap-2 ${downloading ? \"w-fit py-4\" : \"\"}`}\r\n    >\r\n      <Logo id=\"presupuesto_logo\" className=\"max-w-44 my-2\" />\r\n\r\n      <section className=\"flex flex-col items-center\">\r\n        <Select\r\n          name=\"shipping\"\r\n          size=\"sm\"\r\n          label=\"Entrega\"\r\n          className=\"max-w-xs dark:text-white\"\r\n          classNames={{\r\n            listbox: \"dark:text-white\",\r\n            trigger: \"border-2 border-custom1\",\r\n            popoverContent: \"border-2 border-custom1\",\r\n            description: \"text-neutral-400 !text-second\",\r\n          }}\r\n          selectedKeys={[conditions?.entrega?.value]}\r\n          onSelectionChange={(e) =>\r\n            setConditions({\r\n              ...conditions,\r\n              entrega: {\r\n                value: e?.currentKey || \"retiro\",\r\n                label: entrega_items?.[e?.currentKey]?.label || \"Voy a retirar\",\r\n              },\r\n            })\r\n          }\r\n          description={\r\n            entrega_items?.[conditions?.entrega?.value]?.description_select\r\n          }\r\n        >\r\n          {Object.entries(entrega_items).map(([key, obj]) => (\r\n            <SelectItem key={key} description={obj?.description_item}>\r\n              {obj?.label}\r\n            </SelectItem>\r\n          ))}\r\n        </Select>\r\n      </section>\r\n\r\n      <List downloading={downloading} />\r\n\r\n      <section className=\"flex flex-col items-center gap-2 text-neutral-400 text-center\">\r\n        <div className=\"w-full flex flex-wrap items-center justify-center gap-3\">\r\n          <PaymentsIcon className=\"h-6 w-fit\" />\r\n          <AccountBalanceIcon className=\"h-6 w-fit\" />\r\n          <SVGLogoGalicia className=\"h-6 w-fit\" />\r\n          <SVGMercadoLibre className=\"h-6 w-fit\" />\r\n          <SVGLogoPaypal className=\"h-5 w-fit\" />\r\n        </div>\r\n\r\n        <Divider className=\"w-2/3 bg-neutral-400\" />\r\n\r\n        <p>Gracias por su compra.</p>\r\n        {downloading && <p>{downloading}</p>}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Estimate;\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 2h-8L4 8v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 2v16H6V8.83L10.83 4z\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"m16 13-4 4-4-4 1.41-1.41L11 13.17V9.02L13 9v4.17l1.59-1.59z\"\n}, \"1\")], 'SimCardDownloadOutlined');","import { useState } from \"react\";\r\nimport { toPng } from \"html-to-image\";\r\nimport { useOutletContext } from \"react-router\";\r\n\r\nimport { Spinner } from \"@nextui-org/react\";\r\n\r\nimport ButtonCart from \"./CartView/ButtonCart\";\r\nimport Estimate from \"./CartView/Estimate\";\r\n\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport SimCardDownloadOutlinedIcon from \"@mui/icons-material/SimCardDownloadOutlined\";\r\n\r\nimport { SVGBroom } from \"../assets/layout/svgs\";\r\n\r\nexport default function CartView() {\r\n  const context = useOutletContext();\r\n  const cart = context.cart.value;\r\n\r\n  const [downloading, setDownloading] = useState(false);\r\n  const [conditions, setConditions] = useState({\r\n    entrega: { value: \"retiro\", label: \"Voy a retirar\" },\r\n  });\r\n\r\n  const formatPrice = (num) => {\r\n    return new Intl.NumberFormat(\"es-AR\", {\r\n      style: \"currency\",\r\n      currency: \"ARS\",\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(num);\r\n  };\r\n\r\n  const handleSend = () => {\r\n    const items_msg = [\"Hola. Me interesa hacer este pedido:\\n\"];\r\n    items_msg.push(`*${conditions?.entrega?.label}\\n`);\r\n\r\n    let total = 0;\r\n    Object.values(cart).forEach((item) => {\r\n      const array = [];\r\n      const use = item.price_data.usePrice;\r\n      const price = item.price_data.prices[use];\r\n      const subtotal = price * item?.qtt;\r\n      const label = item?.label;\r\n\r\n      total += subtotal;\r\n\r\n      array.push(item.id + \" -\");\r\n      array.push(label + \" =>\");\r\n      array.push(formatPrice(price));\r\n      array.push(`x${item?.qtt}${item?.format_sell || \"u\"}`);\r\n      array.push(`= ${formatPrice(subtotal)}`);\r\n      const list_text = array.join(\" \");\r\n\r\n      items_msg.push(list_text);\r\n    });\r\n\r\n    total = formatPrice(total);\r\n\r\n    items_msg.push(`Total ${total}`);\r\n\r\n    const msg = items_msg.join(\"\\n\");\r\n    const encoded_message = encodeURIComponent(msg);\r\n    const url = `${context.links?.whatsapp}&text=${encoded_message}`;\r\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\r\n    if (newWindow) newWindow.focus();\r\n    // console.log(decodeURIComponent(encoded_message));\r\n  };\r\n\r\n  const getDate = () => {\r\n    const fechaActual = new Date();\r\n\r\n    const año = fechaActual.getFullYear();\r\n    const mes = String(fechaActual.getMonth() + 1).padStart(2, \"0\");\r\n    const dia = String(fechaActual.getDate()).padStart(2, \"0\");\r\n\r\n    const horas = String(fechaActual.getHours()).padStart(2, \"0\");\r\n    const minutos = String(fechaActual.getMinutes()).padStart(2, \"0\");\r\n\r\n    return `${año}/${mes}/${dia}-${horas}:${minutos}`;\r\n  };\r\n\r\n  const downloadEstimate = async () => {\r\n    const ref = document.querySelector(\"#presupuesto\");\r\n    const bg = document.body.classList.contains(\"dark\") ? \"black\" : \"white\";\r\n    if (ref) {\r\n      const date = getDate();\r\n      setDownloading(date);\r\n\r\n      const configs = {\r\n        backgroundColor: bg,\r\n        pixelRatio: 2,\r\n      };\r\n\r\n      setTimeout(async () => {\r\n        try {\r\n          const dataUrl = await toPng(ref, configs);\r\n          const link = document.createElement(\"a\");\r\n          link.href = dataUrl;\r\n          link.download = `presupuesto-imanes_tucuman-${date}.png`;\r\n          link.click();\r\n        } catch (error) {\r\n          console.error(\"Error al generar la imagen:\", error);\r\n        }\r\n        setDownloading(false);\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  const buttonConsole = [\r\n    {\r\n      label: \"Limpiar lista\",\r\n      icon: SVGBroom,\r\n      color: \"default\",\r\n      onPress: () => {\r\n        context.cart.set({});\r\n      },\r\n    },\r\n    {\r\n      label: \"Descargar como imagen\",\r\n      icon: SimCardDownloadOutlinedIcon,\r\n      color: \"secondary\",\r\n      onPress: downloadEstimate,\r\n    },\r\n    {\r\n      label: \"Continuar por WhatsApp\",\r\n      icon: SendIcon,\r\n      color: \"primary\",\r\n      onPress: handleSend,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <section className=\"text-center\">\r\n        Cuanto termine de revisar la lista envié el pedido y será redirigido a\r\n        whatsapp para continuar.\r\n        <br />\r\n        Los pedidos de 500 o más unidades pueden conllevar una seña y/o costo de\r\n        envío y tiempo de espera.\r\n      </section>\r\n\r\n      <section className={`overflow-hidden max-xs:px-2 `}>\r\n        <Estimate\r\n          cart={cart}\r\n          downloading={downloading}\r\n          conditions={conditions}\r\n          setConditions={setConditions}\r\n        />\r\n\r\n        {downloading && (\r\n          <span className=\"bg-black/50 absolute inset-0 z-10 flex items-center justify-center\">\r\n            <Spinner size=\"lg\" color=\"secondary\" />\r\n          </span>\r\n        )}\r\n      </section>\r\n\r\n      <section className=\"flex gap-2 items-center max-xs:px-2 max-xs:flex-wrap\">\r\n        {buttonConsole.map((button, i) => (\r\n          <ButtonCart\r\n            key={i}\r\n            isDisabled={Object.keys(cart)?.length < 1 || downloading}\r\n            {...button}\r\n          />\r\n        ))}\r\n      </section>\r\n\r\n      <p className=\"font-size-secondary text-neutral-400 sm:hidden\">\r\n        Si esta usando un dispositivo móvil y quiere descargar el pedido en una\r\n        imagen es recomendable estar conectado a una red wifi dado que la imagen\r\n        generada tendrá un peso considerable.\r\n      </p>\r\n    </>\r\n  );\r\n}\r\n"],"names":["createSvgIcon","_jsx","d","uuid","counter","concat","Math","random","toString","slice","toArray","arrayLike","arr","i","l","length","push","styleProps","getStyleProperties","options","arguments","undefined","includeStyleProperties","window","getComputedStyle","document","documentElement","px","node","styleProperty","val","ownerDocument","defaultView","getPropertyValue","parseFloat","replace","getImageSize","targetNode","width","leftBorder","rightBorder","clientWidth","getNodeWidth","height","topBorder","bottomBorder","clientHeight","getNodeHeight","canvasDimensionLimit","createImage","url","Promise","resolve","reject","img","Image","onload","decode","then","requestAnimationFrame","onerror","crossOrigin","decoding","src","async","nodeToDataURL","xmlns","svg","createElementNS","foreignObject","setAttribute","appendChild","XMLSerializer","serializeToString","encodeURIComponent","html","svgToDataURL","isInstanceOfElement","instance","nodePrototype","Object","getPrototypeOf","constructor","name","getPseudoElementStyle","className","pseudo","style","selector","cssText","content","formatCSSText","map","value","priority","getPropertyPriority","join","formatCSSProperties","createTextNode","clonePseudoElement","nativeNode","clonedNode","err","styleElement","createElement","WOFF","JPEG","mimes","woff","woff2","ttf","eot","png","jpg","jpeg","gif","tiff","webp","getMimeType","extension","match","exec","getExtension","toLowerCase","isDataUrl","search","makeDataUrl","mimeType","fetchAsDataURL","init","process","res","fetch","status","Error","blob","reader","FileReader","onloadend","result","error","readAsDataURL","cache","resourceToDataURL","resourceUrl","contentType","cacheKey","includeQueryParams","key","test","getCacheKey","dataURL","cacheBust","Date","getTime","fetchRequestInit","_ref","headers","get","split","getContentFromDataUrl","imagePlaceholder","msg","message","console","warn","cloneSingleNode","HTMLCanvasElement","canvas","toDataURL","cloneNode","cloneCanvasElement","HTMLVideoElement","video","currentSrc","ctx","getContext","drawImage","poster","cloneVideoElement","HTMLIFrameElement","iframe","_a","contentDocument","body","_b","cloneIFrameElement","isSVGElement","isSlotElement","tagName","toUpperCase","decorate","Element","targetStyle","sourceStyle","transformOrigin","forEach","endsWith","reducedFont","floor","substring","getAttribute","setProperty","cloneCSSStyle","clonePseudoElements","HTMLTextAreaElement","innerHTML","HTMLInputElement","cloneInputValue","HTMLSelectElement","clonedSelect","selectedOption","Array","from","children","find","child","cloneSelectValue","isRoot","filter","assignedNodes","childNodes","shadowRoot","reduce","deferred","clonedChild","cloneChildren","clone","uses","querySelectorAll","processedDefs","id","exist","querySelector","definition","nodes","values","ns","position","overflow","display","defs","ensureSVGSymbols","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","embed","resourceURL","baseURL","getContentFromUrl","resolvedURL","baseUrl","location","protocol","doc","implementation","createHTMLDocument","base","a","head","href","resolveUrl","escaped","RegExp","toRegex","shouldEmbed","embedResources","filteredCSSText","str","preferredFontFormat","format","filterPreferredFontFormat","urls","raw","quotation","parseURLs","css","embedProp","propName","propValue","cssString","embedImages","embedBackground","isImageElement","HTMLImageElement","SVGImageElement","baseVal","onImageErrorHandler","image","loading","srcset","embedImageNode","deferreds","all","embedChildren","cssFetchCache","fetchCSS","text","embedFonts","data","regexUrl","loadFonts","loc","startsWith","URL","parseCSS","source","keyframesRegex","matches","importRegex","unifiedRegex","lastIndex","parseWebFontRules","styleSheets","cssRules","ret","sheet","item","index","type","CSSRule","IMPORT_RULE","importIndex","metadata","rule","insertRule","catch","e","inline","getCSSRules","FONT_FACE_RULE","getWebFontRules","normalizeFontFamily","font","trim","getWebFontCSS","rules","usedFonts","fonts","Set","traverse","fontFamily","add","HTMLElement","getUsedFonts","has","parentStyleSheet","toSvg","fontEmbedCSS","skipFonts","styleNode","sytleContent","firstChild","insertBefore","embedWebFonts","backgroundColor","manual","keys","applyStyle","toCanvas","context","ratio","pixelRatio","FINAL_PROCESS","env","devicePixelRatio","parseInt","Number","isNaN","getPixelRatio","canvasWidth","canvasHeight","skipAutoScale","checkCanvasDimensions","fillStyle","fillRect","props","Tooltip","label","classNames","hidden","Button","color","isIconOnly","isDisabled","onPress","title","icon","contextImg","require","SVG_FORMA","redondo","SVGRedondo","cuadrado","SVGCuadrado","SVGRedondoFresado","SVGCuadradoFresado","arrastre","SVGArrastre","cols","disabledSort","isNumeric","totalDefault","total","percentage","List","downloading","useOutletContext","cart","orderBy","setOrderBy","useState","items","setItems","totalVisibleItems","setTotalVisibleItems","visibleItems","setLoading","setTotal","_objectSpread","makeCell","col","row","SvgForma","imgs_data","preview","ImageCustom","alt","radius","thumbnails","_jsxs","subcategorie","Input","size","inputWrapper","input","startContent","endContent","price_measure","min","qtt","onChange","handleQtt","onBlur","handleQttBlur","variant","handleDelete","DeleteIcon","PriceLabel","itemData","use","price_data","usePrice","price","prices","toPriceFormat","target","dataset","cart_","set","_e$target","handlePriceData","handleSortCol","column","order_","includes","useEffect","items_","getTotal","total_","structuredClone","order","sort","cartItemsComparator","setTimeout","sortItems","Spinner","_Fragment","scrollStyle","overflowX","maxWidth","paddingBottom","textAlign","onClick","colSpan","toPercentageFormat","entrega_items","retiro","description_item","description_select","coordinar","cadete","envio","envio_uber","envio_online","envio_encomienda","_conditions$entrega","_entrega_items$condit","_conditions$entrega2","conditions","setConditions","Logo","Select","listbox","trigger","popoverContent","description","selectedKeys","entrega","onSelectionChange","_entrega_items$e$curr","currentKey","entries","_ref2","obj","SelectItem","PaymentsIcon","AccountBalanceIcon","SVGLogoGalicia","SVGMercadoLibre","SVGLogoPaypal","Divider","CartView","setDownloading","formatPrice","num","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","buttonConsole","SVGBroom","SimCardDownloadOutlinedIcon","ref","bg","classList","contains","date","getDate","fechaActual","año","getFullYear","mes","String","getMonth","padStart","dia","horas","getHours","minutos","getMinutes","configs","dataUrl","toPng","link","download","click","SendIcon","handleSend","_context$links","items_msg","array","subtotal","format_sell","list_text","encoded_message","links","whatsapp","newWindow","open","focus","Estimate","button","_Object$keys","ButtonCart"],"sourceRoot":""}