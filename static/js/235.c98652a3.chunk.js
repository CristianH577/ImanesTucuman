"use strict";(self.webpackChunkimanestuc_app=self.webpackChunkimanestuc_app||[]).push([[235],{3235:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var a=t(27565),r=t(58429),l=t(21988),n=t(41946),i=t(21371),o=t(27051),c=t(19217),d=t(67987),u=t(8621);var p=t(89221),h=t(64289),m=t(14053),x=t(92334),f=t(11996),g=t(28833),v=t(27812),j=t(74745),b=t(3544),w=t(27929);const N=t(84575),C={redondo:j.Uh,cuadrado:j.E$,"redondo fresado":j.Sx,"cuadrado fresado":j.Iw,arrastre:j.j$};function y(e){let{items:s=[],showMoreItems:t=()=>{},totalItems:a=0}=e;const l=(0,r.KC)(),n=l.cart.value;return(0,w.jsxs)("section",{className:"w-full grid xs:grid-cols-[repeat(auto-fit,_minmax(160px,_1fr))] sm:grid-cols-[repeat(auto-fit,_minmax(200px,_1fr))] gap-2 sm:gap-4 md:gap-10 justify-center",children:[s.map((e=>{const s=!("svg"!==e.imgs_data.preview.type||!e.imgs_data.preview.src)&&(null===C||void 0===C?void 0:C[e.imgs_data.preview.src]);return(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(g.A,{inCart:e.id in n,itemData:e,handleAdd:l.cart.add,className:"absolute top-2 z-20 right-2"}),(0,w.jsx)("a",{href:"#search/".concat(e.id),title:"Ver el producto",className:"",children:(0,w.jsxs)("div",{className:"hover:scale-105 transition-transform bg-content1 rounded-lg shadow-md",children:[s?(0,w.jsx)("div",{className:"shadow-small rounded-lg p-4 self-center h-[150px] w-full",children:(0,w.jsx)(s,{className:"h-full w-full"})}):(0,w.jsx)(f.A,{alt:"Imagen de ".concat(e.label),className:"w-full object-contain p-4 h-[150px] rounded-lg shadow-small",src:N("./"+e.imgs_data.preview.src),width:"100%"}),(0,w.jsxs)("div",{className:"p-2",children:[(0,w.jsxs)("p",{className:"text-second self-start text-neutral-400 capitalize line-clamp-1",children:[e.categorie," ",(null===e||void 0===e?void 0:e.subcategorie)||""]}),(0,w.jsx)("b",{className:"line-clamp-1 text-start",children:e.label}),null!==e&&void 0!==e&&e.noStock?(0,w.jsx)("b",{className:"text-danger",children:"Sin Stock"}):null,(0,w.jsx)(v.A,{itemData:e,classNames:{price:"font-semibold text-tert text-custom2 dark:text-custom1"}})]})]})})]},e.id)})),s.length<a&&(0,w.jsxs)("div",{className:"hover:scale-105 transition-transform rounded-lg cursor-pointer shadow-md bg-warning h-fit w-fit self-center place-self-center",onClick:t,children:[(0,w.jsx)("div",{className:"shadow-small rounded-lg p-4 self-center h-[100px]",children:(0,w.jsx)(b.B$,{className:"h-full w-full"})}),(0,w.jsx)("div",{className:"flex- flex items-center justify-center p-3 dark:drop-shadow-[0_0_3px_black] text-tert",children:(0,w.jsx)("b",{children:"Cargar Mas"})})]})]})}var k=t(90518),S=t(51998);const _=(0,t(10835).A)((0,w.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),O=(0,a.lazy)((()=>Promise.all([t.e(712),t.e(300),t.e(846),t.e(622),t.e(177),t.e(568),t.e(731)]).then(t.bind(t,2731)))),A=15;function P(){const{search:e}=(0,r.zy)(),s=(0,r.Zp)(),[t,f]=(0,a.useState)([]),[g,v]=(0,a.useState)(i.lY),[j,N]=(0,a.useState)([]),[C,P]=(0,a.useState)(!0),[I,B]=(0,a.useState)(""),{isOpen:L,onOpen:M,onOpenChange:z}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:s,defaultOpen:t,isOpen:r,onClose:l,onOpen:n,onChange:i=()=>{}}=e,p=(0,u.c)(n),h=(0,u.c)(l),[m,x]=(0,d.P)(r,t||!1,i),f=(0,a.useId)(),g=s||f,v=void 0!==r,j=(0,a.useCallback)((()=>{v||x(!1),null==h||h()}),[v,h]),b=(0,a.useCallback)((()=>{v||x(!0),null==p||p()}),[v,p]),w=(0,a.useCallback)((()=>{(m?j:b)()}),[m,b,j]);return{isOpen:!!m,onOpen:b,onClose:j,onOpenChange:w,isControlled:v,getButtonProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)((0,o.A)({},e),{},{"aria-expanded":m,"aria-controls":g,onClick:(0,c.c)(e.onClick,w)})},getDisclosureProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)((0,o.A)({},e),{},{hidden:!m,id:g})}}}();return(0,a.useEffect)((()=>{const s=structuredClone(i.lY);if(e){const t=new URLSearchParams(e),a={};Array.from(t.entries()).map((e=>{let[s,t]=e;return a[s]=t.replace(/%/g," ")})),Object.keys(a).forEach((e=>{s.hasOwnProperty(e)&&(s[e]=a[e],s.apply=!0)}));const r=null===s||void 0===s?void 0:s.text;r&&B(r)}v(s)}),[e]),(0,a.useEffect)((()=>{P(!0);let e=structuredClone(n.j);if(e=e.filter((e=>!(null!==e&&void 0!==e&&e.hidden))),null!==g&&void 0!==g&&g.categorie&&(e=e.filter((e=>{const s=g.categorie;return"otros"===s?e.categorie===s||!(null!==e&&void 0!==e&&e.categorie):e.categorie===s}))),null!==g&&void 0!==g&&g.subcategorie&&(e=e.filter((e=>e.subcategorie===g.subcategorie))),["forma"].forEach((s=>{if(null!==g&&void 0!==g&&g[s]){const t=String(g[s]).toLowerCase().replace(/_/g," ");e=e.filter((e=>{var a;return(null===e||void 0===e?void 0:e.info)&&(null===(a=e.info)||void 0===a?void 0:a[s])&&e.info[s].toLowerCase().includes(t)}))}})),null!==g&&void 0!==g&&g.priceMin){const s=Number(null===g||void 0===g?void 0:g.priceMin);e=e.filter((e=>{const t=e.price_data.usePrice,a=e.price_data.prices[t];return Number(a)>=s}))}if(null!==g&&void 0!==g&&g.priceMax){const s=Number(null===g||void 0===g?void 0:g.priceMax);e=e.filter((e=>{const t=e.price_data.usePrice,a=e.price_data.prices[t];return Number(a)<=s}))}if(null!==g&&void 0!==g&&g.text){const s=g.text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");e=e.filter((e=>JSON.stringify(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(g.text.toLowerCase(s))))}if(null!==g&&void 0!==g&&g.orderBy){const[s,t]=g.orderBy.split("-");e.sort((0,l.Fi)(s,t))}f(e),N(e.slice(0,A*g.page)),P(!1)}),[g]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("section",{className:"flex flex-col items-center gap-2",children:[(0,w.jsxs)("article",{className:"flex flex-col gap-2 items-center xs:flex-row",children:[(0,w.jsx)(S.A,{value:I,setValue:B,handleSearch:()=>{let e="?orderBy=price-asc";I&&(e+="&text="+I),s(e)}}),(0,w.jsxs)(p.x,{variant:"ghost",children:[(0,w.jsx)(h.T,{isIconOnly:!0,title:"Limpiar filtros",as:m.h,href:"#search?orderBy=price-asc",onPress:()=>{B("")},children:(0,w.jsx)(b.Uo,{className:"h-3/5 w-fit"})}),(0,w.jsx)(h.T,{isIconOnly:!0,color:null!==g&&void 0!==g&&g.apply?"warning":"default",title:"Abrir lista de filtros",onPress:M,children:(0,w.jsx)(_,{className:"h-4/5 w-fit"})})]})]}),(0,w.jsxs)("article",{className:"text-center text-neutral-400",children:[(0,w.jsxs)("span",{children:["Total: ",t.length]}),(0,w.jsx)("br",{}),(0,w.jsx)("span",{className:"text-second",children:"Los precios pueden variar."})]}),(0,w.jsx)(k.A,{classnames:{suspenseFall:"absolute w-screen min-h-[100dvh] bg-black/50 z-30"},children:(0,w.jsx)(O,{isOpen:L,onOpenChange:z,filtersValues:g})})]}),t.length<1?(0,w.jsx)("b",{children:"Sin Resultados"}):C?(0,w.jsx)(x.o,{color:"secondary"}):(0,w.jsx)(y,{items:j,showMoreItems:()=>{let t="";t+=e?e+"&":"?",t+="page="+(Number(g.page)+1),s(t)},totalItems:t.length})]})}},51998:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(64289),r=t(96940),l=t(10835),n=t(27929);const i=(0,l.A)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function o(e){let{value:s=!1,setValue:t=()=>{},handleSearch:l=()=>{}}=e;return(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(a.T,{isIconOnly:!0,variant:"light",title:"Buscar",className:"border-3 border-custom1-3 border-e-0 rounded-e-none",onPress:l,children:(0,n.jsx)(i,{className:"h-3/5 w-fit"})}),(0,n.jsx)(r.r,{name:"text",placeholder:"Buscar...",title:"Buscar...",classNames:{inputWrapper:"border-3 border-custom1-3 border-s-0 rounded-s-none"},value:s,onValueChange:e=>t(e),onKeyDown:e=>{"Enter"===e.key&&l()},isClearable:!0})]})}}}]);
//# sourceMappingURL=235.c98652a3.chunk.js.map